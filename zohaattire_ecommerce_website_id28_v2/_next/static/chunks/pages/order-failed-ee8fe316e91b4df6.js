(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{924:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/order-failed",function(){return s(6539)}])},6539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(7876),a=s(4232),i=s(9099),n=s(7328),l=s.n(n);s(4587);var o=s(8230),c=s.n(o),d=s(1782),m=s(7954);let x={locale:"en-PK",supportEmail:m.Ay.businessEmail,loadingText:"Loading...",mainTitle:"Order Processing Failed",mainSubtitle:"We encountered an issue while processing your order. Don't worry, we're here to help!",tryAgainButtonText:"Try Again",backToShopText:"Back to Shop",errorMessages:{payment_failed:{title:"Payment Issue",description:"There was a problem processing your payment. Please try again with a different payment method or contact support.",suggestions:["Try again with the same payment method","Contact your bank if using a card","Try a different payment method"]},address_invalid:{title:"Address Issue",description:"We couldn't validate your delivery address. Please check your address details and try again.",suggestions:["Double-check your address details","Ensure all required fields are filled","Try a different delivery address"]},inventory_unavailable:{title:"Item Unavailable",description:"One or more fashion items in your cart are currently out of stock.",suggestions:["Remove out-of-stock items and try again","Check for similar available products","Contact us for restock information"]},system_error:{title:"System Error",description:"We're experiencing technical difficulties. Our team has been notified and is working to resolve this.",suggestions:["Try again in a few minutes","Clear your browser cache and cookies","Contact our support team for assistance"]},default:{title:"Order Failed",description:"Something went wrong while processing your order. Please try again or contact our support team.",suggestions:["Try placing your order again","Check your internet connection","Contact our support team if the problem persists"]}},helpTitle:"Need More Help?",helpDescription:"Our customer support team is ready to assist you.",emailSupportText:"Email Support",phoneSupportText:"Phone Support",errorIcon:"⚠️",suggestionIcon:"\uD83D\uDCA1",emailIcon:"\uD83D\uDCE7",phoneIcon:"\uD83D\uDCDE",shopRoute:"/shop",checkoutRoute:"/checkout",contactRoute:"/contact"};function h(){var e,t,s,n;let o,h=(0,i.useRouter)(),{showInfoNotification:u}=(0,d.hN)(),[p,g]=(0,a.useState)(null),[y,f]=(0,a.useState)("unknown"),[j,b]=(0,a.useState)(0),[N,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{k(!0)},[]),(0,a.useEffect)(()=>{if(!w||!h.isReady)return;let{reason:e}=h.query;g(e)},[w,h.isReady,h.query]),(0,a.useEffect)(()=>{p&&f(p);{let e=localStorage.getItem("lastFailedOrder");if(e)try{v(JSON.parse(e))}catch(e){console.error("Error parsing failed order data:",e)}}},[p]),!w)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:(0,m.Pl)("orderFailed").title}),(0,r.jsx)("meta",{name:"description",content:(0,m.Pl)("orderFailed").description}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:m.Ay.faviconPath,type:"image/png",sizes:m.Ay.faviconSize})]}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-accent mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:x.loadingText})]})})]});let T=x.errorMessages[y]||x.errorMessages.default;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:x.pageTitle}),(0,r.jsx)("meta",{name:"description",content:x.pageDescription}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:x.faviconPath,type:"image/png",sizes:x.faviconSize})]}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("span",{className:"text-4xl",children:x.errorIcon})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-brand-primary mb-2",children:x.mainTitle}),(0,r.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:x.mainSubtitle}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 inline-block",children:[(0,r.jsx)("h3",{className:"font-semibold text-red-800 mb-2",children:T.title}),(0,r.jsx)("p",{className:"text-sm text-red-700",children:T.description})]}),j>0&&(0,r.jsx)("div",{className:"bg-brand-light border border-brand-secondary rounded-lg p-3 inline-block mt-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-800",children:["Retry attempts: ",j]})})]}),N&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Details"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Customer"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[null==(e=N.customer)?void 0:e.firstName," ",null==(t=N.customer)?void 0:t.lastName]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:null==(s=N.customer)?void 0:s.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:(o=(null==(n=N.summary)?void 0:n.total)||0,new Intl.NumberFormat(x.locale,{style:"currency",currency:x.currency,minimumFractionDigits:0}).format(o))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Payment Method"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:N.paymentMethod||"COD"})]})]}),N.error&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Error Details:"}),(0,r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:N.error.message||"Unknown error occurred"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-brand-primary mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-xl mr-2",children:x.suggestionIcon}),"What can you do?"]}),(0,r.jsx)("div",{className:"space-y-3",children:T.suggestions.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-brand-light rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,r.jsx)("span",{className:"text-xs font-bold text-brand-primary",children:t+1})}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:e})]},t))})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("button",{onClick:()=>{w&&(b(e=>e+1),u&&u("Redirecting to checkout..."),setTimeout(()=>{h.isReady&&h.push(x.checkoutRoute)},1e3))},className:"w-full bg-brand-primary hover:bg-brand-dark text-white py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x.tryAgainButtonText]}),(0,r.jsxs)("button",{onClick:()=>{w&&(u&&u("Redirecting to contact page..."),setTimeout(()=>{h.isReady&&h.push(x.contactRoute)},1e3))},className:"w-full bg-gray-600 hover:bg-gray-700 text-white py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Contact Support"]})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)(c(),{href:x.shopRoute,className:"text-brand-accent hover:text-brand-primary font-medium",children:["← ",x.backToShopText]})})]}),(0,r.jsxs)("div",{className:"mt-8 bg-brand-light border border-brand-secondary rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-brand-primary mb-4",children:x.helpTitle}),(0,r.jsx)("p",{className:"text-sm text-brand-dark mb-4",children:x.helpDescription}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-brand-primary rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("span",{className:"text-white text-lg",children:x.emailIcon})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:x.emailSupportText}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:x.supportEmail}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Response within 24 hours"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("span",{className:"text-white text-lg",children:x.phoneIcon})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:x.phoneSupportText}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:x.supportPhone}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:x.supportHours})]})]})]})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Visit our"," ",(0,r.jsx)(c(),{href:x.contactRoute,className:"text-brand-accent hover:text-brand-primary font-medium",children:"Contact Page"})," ","for more support options or check our delivery areas."]})})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(924)),_N_E=e.O()}]);