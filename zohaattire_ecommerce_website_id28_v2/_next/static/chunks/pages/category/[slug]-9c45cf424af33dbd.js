(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{1971:(e,s,r)=>{"use strict";r.r(s),r.d(s,{__N_SSG:()=>y,default:()=>j});var a=r(7876),t=r(4232),n=r(9099),l=r(7328),i=r.n(l),c=r(8230),o=r.n(c),d=r(7954),m=r(7169),x=r(7730),h=r(1782),g=r(703),u=r(6790),b=r(596),p=r(7630),y=!0;function j(e){let{products:s=[],category:r,allCategories:l=[],categoryHierarchy:c=[],currentSubcategory:y}=e,j=(0,n.useRouter)(),{addItem:f}=(0,m._$)(),{addToWishlist:N,removeFromWishlist:v,isInWishlist:w}=(0,x.nU)(),{showCartNotification:k}=(0,h.hN)(),[S,C]=(0,t.useState)({}),[A,_]=(0,t.useState)("default"),[P,F]=(0,t.useState)(s||[]),[L,O]=(0,t.useState)({isOpen:!1,product:null}),[M,E]=(0,t.useState)({}),[T,q]=(0,t.useState)(9),R=s.length>0?[...new Set(s.map(e=>e.brand))]:[],B=s.length>0?Math.min(...s.map(e=>e.price)):0,H=s.length>0?Math.max(...s.map(e=>e.price)):5e4,[U,z]=(0,t.useState)([B,H]),[D,I]=(0,t.useState)([]),[W,X]=(0,t.useState)([]),[G,K]=(0,t.useState)(!1),[Q,V]=(0,t.useState)(!1),[Z,$]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{console.log("Products",s),s.length>0&&(z([Math.min(...s.map(e=>e.price)),Math.max(...s.map(e=>e.price))]),0===P.length&&F(s))},[s]),j.isFallback)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-accent mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading category..."})]})});if(!r||void 0===s)return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(g.A,{}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Category Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"The category you're looking for doesn't exist."}),(0,a.jsx)(o(),{href:"/shop",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-brand-primary to-brand-accent hover:from-brand-accent hover:to-brand-primary text-white font-semibold rounded-lg transition-all duration-300",children:"Browse All Products"})]})}),(0,a.jsx)(u.A,{})]});let J=null==c?void 0:c.find(e=>e.slug===r);console.log("Current Category Data",J);let Y=(null==J?void 0:J.subcategories)||[],ee=j.query.subcategory?[...new Set(s.filter(e=>e.subcategory).map(e=>e.subcategory))].find(e=>e.toLowerCase().replace(/\s+/g,"-")===j.query.subcategory):null;console.log("Current Subcategory From Url",ee);let es=e=>"".concat(d.Ay.currencySymbol," ").concat(e.toLocaleString()),er=(e,s)=>{E(r=>({...r,[e]:s}))},ea=async e=>{O({isOpen:!0,product:e})},et=e=>{X(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};(0,t.useEffect)(()=>{if(j.isReady&&j.query.subcategory){let e=j.query.subcategory,r=[...new Set(s.filter(e=>e.subcategory).map(e=>e.subcategory))].find(s=>s.toLowerCase().replace(/\s+/g,"-")===e);r&&!W.includes(r)&&X([r])}else j.isReady&&!j.query.subcategory&&X([])},[j.isReady,j.query.subcategory,s]),(0,t.useEffect)(()=>{let e=[...s];switch(e=e.filter(e=>e.price>=U[0]&&e.price<=U[1]),D.length>0&&(e=e.filter(e=>D.includes(e.brand))),W.length>0&&(e=e.filter(e=>W.includes(e.subcategory))),G&&(e=e.filter(e=>e.inStock)),Q&&(e=e.filter(e=>e.onSale)),A){case"price-low":e.sort((e,s)=>e.price-s.price);break;case"price-high":e.sort((e,s)=>s.price-e.price);break;case"name":e.sort((e,s)=>e.name.localeCompare(s.name));break;case"newest":e.sort((e,s)=>s.isNew-e.isNew);break;case"rating":e.sort((e,s)=>s.rating-e.rating);break;default:e.sort((e,s)=>e.isNew!==s.isNew?s.isNew-e.isNew:s.rating-e.rating)}F(e)},[A,s,U,D,W,G,Q]);let en=e=>{I(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},el=()=>{z([s.length>0?Math.min(...s.map(e=>e.price)):0,s.length>0?Math.max(...s.map(e=>e.price)):5e4]),I([]),X([]),K(!1),V(!1),_("default")},ei=(e=>{if(console.log("Slug",e),"new-arrivals"===e)return"New Arrivals";if("on-sale"===e)return"On Sale";let s=l.find(s=>s.slug===e);return s?s.name:e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})(r);console.log("Filtered Products Before Slice",P);let ec=P.slice(0,T);return console.log("Products To Show",ec),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsxs)("title",{children:[ei," - ",d.Ay.businessName]}),(0,a.jsx)("meta",{name:"description",content:(0,d.Pl)("category").description}),(0,a.jsx)("meta",{name:"keywords",content:d.Ay.seoKeywords}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:d.Ay.faviconPath,type:"image/png",sizes:d.Ay.faviconSize})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(g.A,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-8",children:[(0,a.jsx)(o(),{href:"/",className:"hover:text-brand-accent",children:"Home"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(o(),{href:"/shop",className:"hover:text-brand-accent",children:"Shop"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("span",{className:"text-brand-primary font-semibold",children:ei}),(y||ee)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("span",{className:"text-brand-primary font-semibold",children:y||ee})]})]}),(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-brand-primary mb-4",children:y||ee||ei}),(0,a.jsxs)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:[P.length," ",1===P.length?"item":"items"," in this collection"]})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[(0,a.jsx)(o(),{href:"/shop",className:"px-4 py-2 rounded-lg border border-gray-300 hover:border-brand-accent hover:bg-brand-light transition-all duration-200 text-sm font-medium",children:"All Products"}),l.map(e=>(0,a.jsx)(o(),{href:"/category/".concat(e.slug),className:"px-4 py-2 rounded-lg border transition-all duration-200 text-sm font-medium ".concat(e.slug===r?"bg-brand-primary text-white border-brand-primary":"border-gray-300 hover:border-brand-accent hover:bg-brand-light"),children:e.name},e.slug))]})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"w-full lg:w-80 xl:w-96",children:[(0,a.jsx)("div",{className:"lg:hidden mb-4",children:(0,a.jsxs)("button",{onClick:()=>$(!Z),className:"w-full flex items-center justify-between px-4 py-3 bg-white rounded-lg border border-gray-300 hover:border-brand-accent transition-all duration-200",children:[(0,a.jsx)("span",{className:"font-medium text-brand-primary",children:"Filters"}),(0,a.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 ".concat(Z?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden ".concat(Z?"block":"hidden lg:block"),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-brand-primary",children:"Filters"}),(0,a.jsx)("button",{onClick:el,className:"text-sm text-brand-accent hover:text-brand-primary font-medium",children:"Clear All"})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-brand-primary mb-4",children:"Categories"}),(0,a.jsx)("div",{className:"space-y-2",children:(null==c?void 0:c.map(e=>{var s,t,n;return(0,a.jsxs)("div",{children:[(0,a.jsxs)(o(),{href:"/category/".concat(e.slug),className:"flex items-center justify-between px-3 py-2 rounded-md text-sm transition-colors duration-200 ".concat(e.slug===r?"bg-brand-light text-brand-primary font-medium":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,a.jsx)("span",{children:e.name}),((null==(s=e.subcategories)?void 0:s.length)||0)>0&&(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.subcategories.length,")"]})]}),e.slug===r&&((null==(t=e.subcategories)?void 0:t.length)||0)>0&&(0,a.jsx)("div",{className:"ml-4 mt-2 space-y-1",children:null==(n=e.subcategories)?void 0:n.map(s=>(0,a.jsxs)(o(),{href:"/category/".concat(e.slug,"?subcategory=").concat(s.slug),className:"block px-3 py-1 rounded-md text-xs transition-colors duration-200 ".concat(y===s.name||ee===s.name?"bg-brand-light text-brand-primary font-medium":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"),children:[s.name," (",s.count,")"]},s.slug))})]},e.slug)}))||(0,a.jsx)("div",{className:"text-gray-500 text-sm py-4",children:"Loading categories..."})})]}),Y.length>0&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-brand-primary mb-4",children:"Subcategories"}),(0,a.jsx)("div",{className:"space-y-3",children:Y.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:W.includes(e.name),onChange:()=>et(e.name),className:"w-4 h-4 text-brand-primary bg-gray-100 border-gray-300 rounded focus:ring-brand-accent focus:ring-2"}),(0,a.jsxs)("span",{className:"ml-3 text-sm text-gray-700",children:[e.name," (",e.count,")"]})]},e.name))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-brand-primary mb-4",children:"Price Range"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"range",min:B,max:H,value:U[1],onChange:e=>z([U[0],parseInt(e.target.value)]),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:es(B)}),(0,a.jsx)("span",{children:es(U[1])}),(0,a.jsx)("span",{children:es(H)})]})]})]}),R.length>0&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-brand-primary mb-4",children:"Brands"}),(0,a.jsx)("div",{className:"space-y-3",children:R.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:D.includes(e),onChange:()=>en(e),className:"w-4 h-4 text-brand-primary bg-gray-100 border-gray-300 rounded focus:ring-brand-accent focus:ring-2"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-brand-primary mb-4",children:"Availability"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:G,onChange:e=>K(e.target.checked),className:"w-4 h-4 text-brand-primary bg-gray-100 border-gray-300 rounded focus:ring-brand-accent focus:ring-2"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"In Stock Only"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:Q,onChange:e=>V(e.target.checked),className:"w-4 h-4 text-brand-primary bg-gray-100 border-gray-300 rounded focus:ring-brand-accent focus:ring-2"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"On Sale Only"})]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Showing ",Math.min(T,P.length)," of ",P.length," ",1===P.length?"product":"products"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by:"}),(0,a.jsxs)("select",{id:"sort",value:A,onChange:e=>_(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-accent focus:border-brand-accent",children:[(0,a.jsx)("option",{value:"default",children:"Default"}),(0,a.jsx)("option",{value:"name",children:"Name (A-Z)"}),(0,a.jsx)("option",{value:"price-low",children:"Price (Low to High)"}),(0,a.jsx)("option",{value:"price-high",children:"Price (High to Low)"}),(0,a.jsx)("option",{value:"newest",children:"Newest First"}),(0,a.jsx)("option",{value:"rating",children:"Highest Rated"})]})]})]}),ec.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-2 gap-y-6 md:gap-6 mb-12",children:ec.map(e=>(0,a.jsx)(p.A,{product:e,showQuickView:!0,onAddToCart:ea,onColorSelect:er,selectedColors:M,addingToCart:S},e.id))}),T<P.length&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("button",{onClick:()=>{q(e=>e+9)},className:"inline-flex items-center px-8 py-3 bg-brand-primary hover:bg-brand-dark text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:["Load More Products",(0,a.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}):(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("span",{className:"text-4xl",children:"⚕️"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-brand-primary mb-4",children:"No Products Found"}),(0,a.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Try adjusting your filters or browse our other categories."}),(0,a.jsx)("button",{onClick:el,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-brand-primary to-brand-accent hover:from-brand-accent hover:to-brand-primary text-white font-semibold rounded-lg transition-all duration-300",children:"Clear Filters"})]})]})]})]}),(0,a.jsx)(u.A,{})]}),(0,a.jsx)(b.A,{product:L.product,isOpen:L.isOpen,onClose:()=>{O({isOpen:!1,product:null})}})]})}},5796:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[slug]",function(){return r(1971)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[660,844,578,596,636,593,792],()=>s(5796)),_N_E=e.O()}]);