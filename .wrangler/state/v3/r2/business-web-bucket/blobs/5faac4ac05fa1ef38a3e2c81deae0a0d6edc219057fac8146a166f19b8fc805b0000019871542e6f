"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{596:(e,t,s)=>{s.d(t,{A:()=>m});var r=s(7876),n=s(4232),a=s(4587),l=s.n(a),i=s(7169),o=s(1782),c=s(949),d=s(7653);s(8953),s(5091),s(2161),s(4148);var u=s(7888),x=s(6852);let h={title:"Add to Cart",currency:"PKR",labels:{size:"Size",color:"Variety",quantity:"Quantity",totalText:"Total",originalPrice:"Original",addToCart:"Add to Cart",outOfStock:"Out of Stock",notifyWhenAvailable:"Notify When Available"},buttons:{addToCart:"Add to Cart",cancel:"Cancel"},messages:{selectSize:"Please select a size",item:"item",items:"items",outOfStock:"This product is currently out of stock",limitedStock:"Only {count} left in stock",insufficientStock:"Only {count} items available"},stock:{threshold:10,inStock:"In Stock",outOfStock:"Out of Stock",limitedStock:"Only {count} left"},slider:{spaceBetween:10,thumbSpaceBetween:8,thumbSlidesPerView:4,transitionDuration:300},maxQuantity:10,minQuantity:1,slideChangeDelay:100},m=e=>{var t;let{product:s,isOpen:a,onClose:m}=e,[g,b]=(0,n.useState)(""),[p,f]=(0,n.useState)(1),[y,j]=(0,n.useState)(0),[v,k]=(0,n.useState)(null),[N,w]=(0,n.useState)(null),[z,S]=(0,n.useState)(null),C=(0,n.useRef)(!1),{addItem:L}=(0,i._$)(),{showCartNotification:T}=(0,o.hN)(),B=s?(0,c.G0)(s.gallery):[];(0,n.useEffect)(()=>{if(s){var e,t;(null==(e=s.sizes)?void 0:e.length)>0&&b(s.sizes[0].size||s.sizes[0]),k((null==(t=s.colors)?void 0:t.length)>0?0:null),j(0),f(1),C.current=!1}},[s]);let M=e=>"".concat(h.currency," ").concat(e.toLocaleString()),O=()=>s&&s.inStock&&s.stockLeft>0,P=()=>{if(!s||!s.sizes||0===s.sizes.length)return(null==s?void 0:s.price)||0;if("object"==typeof s.sizes[0]&&s.sizes[0].pricebysize){let e=s.sizes.find(e=>e.size===g);return e?e.pricebysize:s.price}return s.price},W=()=>null!==v?v:y,A=e=>{k(e),j(e),C.current=!0,z&&!z.destroyed&&z.slideTo(e,h.slider.transitionDuration),N&&!N.destroyed&&N.slideTo(e,h.slider.transitionDuration),setTimeout(()=>{C.current=!1},h.slideChangeDelay)},q=e=>{if(C.current)return void j(e);j(e),k(null)},V=e=>{let t=Math.min(h.maxQuantity,s.stockLeft||0);e>=h.minQuantity&&e<=t&&f(e)};return a&&s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity duration-300",onClick:m}),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-brand-primary",children:h.title}),(0,r.jsx)("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-gray-600 hover:text-gray-800",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[B&&B.length>1?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.RC,{modules:[x.U1,x.Vx,x.WO],spaceBetween:h.slider.spaceBetween,navigation:{prevEl:".popup-main-slider-prev",nextEl:".popup-main-slider-next"},thumbs:{swiper:N&&!N.destroyed?N:null},className:"popup-main-slider aspect-square bg-gray-100 rounded-xl overflow-hidden",onSwiper:S,onSlideChange:e=>q(e.activeIndex),initialSlide:W(),children:B.map((e,t)=>(0,r.jsx)(u.qr,{children:(0,r.jsx)(d.A,{url:e.url,alt:"".concat(s.name," - View ").concat(t+1),index:t,productName:s.name,aspectRatio:"square",className:"w-full h-full",priority:0===t,showPlayButton:e.isYouTube})},t))}),(0,r.jsx)("button",{className:"popup-main-slider-prev absolute left-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-white/80 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 z-10",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,r.jsx)("button",{className:"popup-main-slider-next absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-white/80 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 z-10",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}):(0,r.jsx)(d.A,{url:(()=>{if(!s)return"";if(null!==v&&B[v]){let e=B[v];return e.isYouTube?e.thumbnail:e.url}let e=B[y];return e?e.isYouTube?e.thumbnail:e.url:s.image||""})(),alt:s.name,index:0,productName:s.name,aspectRatio:"square",className:"w-full h-full",priority:!0,showPlayButton:B.length>0&&(null==(t=B[0])?void 0:t.isYouTube)}),B&&B.length>1&&(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(u.RC,{onSwiper:w,modules:[x.U1,x.Vx],spaceBetween:h.slider.thumbSpaceBetween,slidesPerView:h.slider.thumbSlidesPerView,freeMode:!0,watchSlidesProgress:!0,className:"popup-thumb-slider",children:B.map((e,t)=>(0,r.jsx)(u.qr,{children:(0,r.jsxs)("button",{onClick:()=>q(t),className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 transition-all duration-200 relative ".concat(W()===t?"border-brand-accent ring-2 ring-brand-accent ring-opacity-50":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)(l(),{src:e.isYouTube?e.thumbnail:e.url,alt:"".concat(s.name," - Thumbnail ").concat(t+1),width:80,height:80,className:"w-full h-full object-contain"}),e.isYouTube&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-4 h-4 bg-brand-accent rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})})})})]})},t))})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:s.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:s.category}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-transparent bg-gradient-to-r from-brand-primary to-brand-accent bg-clip-text",children:M(P())}),s.onSale&&(0,r.jsx)("span",{className:"text-lg text-gray-500 line-through",children:M(s.originalPrice)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(O()?s.stockLeft<=h.stock.threshold?"bg-orange-500":"bg-green-500":"bg-red-500")}),(0,r.jsx)("span",{className:"text-xs font-medium ".concat(O()?s.stockLeft<=h.stock.threshold?"text-orange-600":"text-green-600":"text-red-600"),children:s?!s.inStock||s.stockLeft<=0?h.stock.outOfStock:s.stockLeft<=h.stock.threshold?h.stock.limitedStock.replace("{count}",s.stockLeft):h.stock.inStock:""})]})]})]}),s.colors&&s.colors.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-2 text-brand-primary",children:h.labels.color}),(0,r.jsx)("div",{className:"mb-3 p-2 rounded-lg border bg-brand-secondary bg-opacity-10 border-brand-secondary",children:(0,r.jsxs)("p",{className:"text-sm font-semibold text-brand-primary",children:[h.labels.selectedColor," ",(0,r.jsx)("span",{className:"text-brand-accent",children:s.colors[null!==v?v:0]})]})}),(0,r.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:s.colors.map((e,t)=>(0,r.jsx)("button",{onClick:()=>A(t),className:"px-3 py-2 border-2 rounded-lg font-medium transition-all duration-200 text-xs ".concat((null!==v?v:0)===t?"border-brand-accent bg-brand-accent bg-opacity-10 text-brand-accent shadow-md":"border-gray-300 text-gray-700 hover:border-brand-secondary hover:bg-brand-secondary hover:bg-opacity-10"),title:"".concat(e," - Image ").concat(t+1),children:e},t))}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:h.messages.colorInstruction})]}),s.sizes&&s.sizes.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:h.labels.size}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:s.sizes.map((e,t)=>{let s="object"==typeof e?e.size:e,n="object"==typeof e?e.pricebysize:null;return(0,r.jsxs)("button",{onClick:()=>b(s),className:"py-2 px-3 rounded-lg border-2 text-xs font-medium transition-all duration-200 text-center ".concat(g===s?"border-brand-accent bg-brand-accent bg-opacity-10 text-brand-accent":"border-gray-200 hover:border-gray-300 text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)("div",{children:s}),n&&(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:M(n)})]},t)})}),!g&&s.sizes.length>0&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.messages.selectSize})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:h.labels.quantity}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{onClick:()=>V(p-1),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200 text-gray-600",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,r.jsx)("span",{className:"w-8 text-center text-sm font-medium text-gray-800",children:p}),(0,r.jsx)("button",{onClick:()=>V(p+1),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-lg hover:bg-brand-accent hover:border-brand-accent transition-all duration-200 text-gray-600 hover:text-white",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[h.labels.totalText," (",p," ",p>1?h.messages.items:h.messages.item,")"]}),(0,r.jsx)("span",{className:"text-lg font-bold text-transparent bg-gradient-to-r from-brand-primary to-brand-accent bg-clip-text",children:M(P()*p)})]}),s.onSale&&(0,r.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500",children:h.labels.originalPrice}),(0,r.jsx)("span",{className:"text-sm text-gray-500 line-through",children:M(s.originalPrice*p)})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>{var e;if(!O())return void alert(h.messages.outOfStock);if(!g&&s.sizes&&s.sizes.length>0)return;if(p>s.stockLeft)return void alert(h.messages.insufficientStock.replace("{count}",s.stockLeft));let t={...s},r={size:g,color:s.colors&&s.colors.length>0?s.colors[null!==v?v:0]:null};L(t,Number(p),r),T(t,g,Number(p)),b((null==(e=s.sizes)?void 0:e.length)>0?s.sizes[0].size||s.sizes[0]:""),f(1),k(null),j(0),m()},disabled:s.sizes&&s.sizes.length>0&&!g||!O(),className:"w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 ".concat(s.sizes&&s.sizes.length>0&&!g||!O()?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-brand-primary to-brand-accent text-white"),children:O()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})}),(0,r.jsx)("span",{children:h.buttons.addToCart})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})}),(0,r.jsx)("span",{children:h.labels.outOfStock})]})}),(0,r.jsx)("button",{onClick:m,className:"w-full py-3 px-4 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:h.buttons.cancel})]})]})]})})]})})]}):null}}}]);